workflows:
  simple-android-workflow:
    name: Simple Android Workflow
    instance_type: mac_mini
    max_build_duration: 60
    environment:
      flutter: 1.22.4
    scripts:
      - name:- Set up debug keystore
        script: |
          rm -f ~/.android/debug.keystore
          keytool -genkeypair \
            -alias androiddebugkey \
            -keypass android \
            -keystore ~/.android/debug.keystore \
            -storepass android \
            -dname 'CN=Android Debug,O=Android,C=US' \
            -keyalg 'RSA' \
            -keysize 2048 \
            -validity 10000
      - name: Set up local properties
        script: echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - name: Get Flutter packages
        script: flutter packages pub get
      - name: Build debug apk
        script: flutter build apk --debug
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - sbis1999@gmail.com
  simple-ios-workflow:
    name: Simple iOS Workflow
    instance_type: mac_mini
    max_build_duration: 60
    environment:
      flutter: 1.22.4
      xcode: latest
      cocoapods: default
    scripts:
      - name: Set up local properties
        script: echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - name: Get Flutter packages
        script: flutter packages pub get
      - name: Install Podfiles
        script: find . -name "Podfile" -execdir pod install \;
      - name: Build debug iOS app
        script: flutter build ios --debug --no-codesign
    artifacts:
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - sbis1999@gmail.com
  default-workflow:
    name: Default Workflow
    environment:
      vars:
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmVRU21POUJsb3dXc0N4azdCbThwcWpmRVdJZzlVSkRrMk45QzZjNWZHOGY1Y1pub1A0TFpkSHZBRmF0ZXJLbHlYdTFrNnpDM0dQd1lqX0JpM25jekd5TXFsUnc9PQ==)
        FCI_KEY_ALIAS: app
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmVRU21PbUJ2UWQ4RXJLaW10eUY0SHZVaUpOUWxVQ1AzVEhpUjhIcEVyMFNnNTVNTTNCUTFQWDI1dFhHMzVmSzhCZTVtd20wUzhtR0VOX2Z2ZXJKQTRZS3RZOHc9PQ==)
        FCI_KEYSTORE_FILE: Encrypted(Z0FBQUFBQmVRU21PdkhZTWF6NDFabkNHNjNTcVdENjNkYXBsc1hXT1ZFWGhMYWRCa3F2VUJsUVdYQVBTZTZzVy1Day1CZzRKSkhwZ0V3VU9Gb01fRkZkMDNGSHUzU3BiSlJnalZPTGQ2Yld0TERDbFYzU0pNMlFockhyVlZLWUpldDUxdDNVTE10Q3hiYVZqZHFlb3l4NktOaTdiUnoyVjFDWm5YWU9CN3ZVNDF1X3FCLWpJUkJKUzVLeGNmYk9kQkN4dzZZRV9FQkdRME9nemR2NUx3NVZDMGNmTmxDWG9lT3NHOG1MSHRtY0RaMzZaMF82UkRFNjBDRy1aUHIzMmk0dVo4WnpIZ0JaQU1rbnVXZEcxcVhLNEMtaUpjaUtQYURwSVVEaEVZekFNU0NKY0hqOEFYZG9XVmlrNVQzNWJ6YnN1bGYxMmdkQVd1M3pVQmR3N2syS2pva011Uk9hNkZlWEg5RlVGaDFTNHhxdTBBT0ZfajhZZmFvUmZVRnZPSjhnZm1LWmtmZFVXM0RqVFFHMVQ5amYtWmlVWThCbnV6dEZFRkY1NzA0VDZnWEdQZERFZklPdlJrZU91UXF5ckRFVzJydU1zT3hiVlZYa25GUjJGQVhCenlVaE5OVnVnSC01QTVwdUhTSl81WnM3RWJORXRLaG5NdnZkQUR6bk5FZElBckJMRllTYnZYWUVsNWpTNDR0NjlDSGdOVnZHcWdaZXB1bjU0dWQ1Ymxwd0YtUF9kNDZvWXRGQmoyOGItUWc2TUJ6OEdCLXBnMy0zbGdzbnE3WkI2UUozcW84aTg4YzAxWXFNZEZyRG1PbjNEdkZSUHVma1I0QmRES3Y0N2tqWWFYWU5XbHNmeUF6b0FOd29MX3FiVTVPa3VNd1ktYjdKR1dZdkthSW5aM0Q2b1loSW5FWkt2Z1dlSjNwc29JbnRpN2pKYlNOWVVVb2p1VjdZMTAzaE9sYmxzeXRkd1dObVdQMk05UUgxY3Rkd0dwbW1rRmxRUFZTb0F1WnVyMVpQbnV2UzlsMjI0VXNZN3Bwa2tsOUgzV1RJbVJSWmNha2lXY2RDbmlETlMtR2FLMXdjSFFhRXpKTFVrVlRDcFVfVTJYNEo0eGVzV1RZWmwwZ2gyRnJ3cHA2cW5mVU1QYW1CS2tQWW1nbjdtMUVlaUU2bmNGb1lfdmtTOS1ySlhRZUMwTnRuYWJVVHRIRkNxR3FkaE9ZbWpqMHp0Ty1MbUdrdEs1WVlfMVV1Y2thUm5fc196NERUZDJaeVZOcmVURmcyaVRTTS1vOUxKTElJMmR3M2hGdWxEWHpYbHdBNnlza1ZRcTNFU0FnOU5HckVyQzk5U1NRR18wYzhudlJibUtfeFhad2FNS2dlTWhFemZsS2ZiVUdqVUdOdzJ3UVpMakFYWjdYX0t5QWp2M3RiTzhnX3huMWc5a29mQS1yeGUyYUNpUmtBdjVpTW9MZ25XWEZLOF9rdGtxMUdxN2swT2NlVWZoR1Y5ek5qbnBQaE1MX050NTFmc3YwNkJvMTdxdTNVSURzcm1fMWJoOWZubzdJYlJhcmJMY3RkX0owVlFHemJxSjVFTE1lczJRcE93Zy16VjFfbnh1VElraEtfaUE0MHlYc1I1ZWhZcXNNa0t4ZnlDX0lWeXhYb3hEN0QzYjJFYU1rMXloRDZQUnpfVnVMSFRBVXJCcEp2UE81LVJBQUhEdFRsRTQtR01vTGFJSkI3VHVGdFh5Uk9COFc5Vk8xS1dLRnh2VmRIYVZOVk1jTWR2VUxSUGZ6dmpNU21TWkU2RUpOeFlDMmtVTEt2eWVIVlJFNkpzMGpzalc5dHRETWJ4QTg4b1h5cE9GdFRsVmtvOUtmLTRSSFlQMVVibXEzY2MzTVdSTXZYbzNfVHRGMk9ZbFBOdjFJNHM4U1BOOUVTZmVMV0ZWMzVCRGVMWlNkVUZBQlhvckNMeTBEbmFQN0ROSlZwa0lTUGhPNkd1LTdxTXgyNkFPMHNudFFGU1JMN0dxSDlVWXhpYkFqQnBZYUhSWkd4N3VaZW10LWR6NXhnbGxyQjVUTlVULTRXN0QtclFaRk9wM2MwZ1d3UVZuUmtVc0ItdUVxUVZHNXRWajBCNVlUdFJ4cE96MHFGaTVPNzV3U3dsMzIzdG5hWnB2M1lpT1pwdE1oUHl4NU54R0huN1JFRkNFclUxVmU2LXhKaTdaVW5oVkRjRVRyTFZtZUlLcE1Sa2lLbDZjVVZXTVFwQjVVc3BONTZabmlLMFkxanpwVndpSHVfSlk3eFRmU2dqdC1iY21rbXdaSEw5WWs5bFhwa203TW00Y0pJRl9XeWNOVG8yS0Fsbm5rQW9iQTNKaE9YTXd1TGw1NXpGWmNXMEhoSVhFTl9nbVpUVFZTM2F6Njc0RTJlQlJkSmZ1X1htNzNYaGotSndNTzVQMThwZzJfNndHY29YbmYyV3hoSl9ZeXdQa21HWUpfMTBCYUgtMTUzNnJXNzV1VUpBRXVrNzJFSUZJWlJJbUhtTGhmWGVYaXp0WVVPRXpMOWdwRUsxQVdUZUJUSkkyQzhoWmZoVHN3RTFidG5zcWlYRlhoaVl2X2dLdDdNWEJ1S1E5V08wX3ZaVW5wUUtiZEtVMHJCemxfZG4yTUZobnVnZzdFRHkxdDFBenJtTWpjQjhDMFVDMU1SRTBldXU1QXFERGhQcXRVT252bWFOeXZNYlJqeG05VUhYTWNYUWdueVlGMGgwVlJXNG9qWUNwZk9TOFliVlpNWjczZGN0X0lPRXBCTzlxaXgwOU1aTUJDUWxiamFGUldmQWkzLUZtRXE3OHdQWmpPYW5fMUktaXpETUQzdk9hTi1DS05iOFZTcjhtaV84aXV5cWl6N2J1dVlXNmZkNXVWbWZUM1pqTU9tTlRnOF9jc3VjOUs0ejU2Z0JaTGhpcFQwelhQclNkZTRoZzJNQXpVU2ZFM3MzMmxZV0V0ZG9VRHMtcTFOQzR1cTdLUjMtRnJaQmNYOFNKMDBfTE5jYzkwdHRhY3dEd1VWaDljZHBVY2EwOHdNT21OSlN5RENnbUhPUU9BSXJtNGpQVi1WZ3N2M2xrYXNpcVlrRUtJc2dab1JHc2h4cHB5VTVKbmtPa3Nvenl2MVZiX2ppUElNcW9ackU0OXFUZzZyTmNZZVNzRGYzUmJCM2VWcm9YQW1WRlRXYjF5U0hEODRxQU5GTkNxVWtuRjhURVNaRGZJNnJLZWxrOE04THVJdFRWMVZ2YThYaklnMTF3cTdjYW9SaFpNYTlDMkw2dHlMWjZ3LXNHeUJRbjV5Q2dEbXpRWEZtaWVPZlZ1Q1dkcTMxRTZ1NTVwZEtxZ1I1NlQ0ZkROYkxhZGZ6LVNoQ3JCT0tQeUpFZDZ0LWwyZWtnZVM5dm5DYmF3MC0zcWljS2RkTG83TW90M0FiZGRiQktqVVhfTUZ3cFdMQWgzcWZYRGFqVkdNbEI0cUJQcTdQV1FqVjlwQXNZdl9oWEgwbU1ndlhnaFdMOE5MaHdaeVRmNS1MVWl5X0VNZVJYNm9WV3pCRnpGSjJtYldXLW5td0xJXzkydjMzQzdyX24xcUplMHo2U1N2Uk95VFYwazNDRXp1VlR1U3pycURRaGdKa2ZhQ0RMQzg2aDZjV1RrT0JCOHNyWjNGQ1ZCeURuOFhidWxTaU1BWE9RV2szeUxnX0hyTmVDMlluUXQ1aVdadjRfOXY4eFZjWUdnYk5hZDZNSGd0TVVfR2Nyc3hYbFB0cjZQb2xrdjdwMlAxSlJuZXZiSkNRZU9FQXZaakVpOFdnTk5xOVNwdnlOeTVYN2lXVmFZeTlhYkY2NFctNkxEZVlOY19CM3Z6MGtqOFpZOXBBckFUaXJVTE1mWGxvMVZyNmZJVjNfSlNQUDlVdlhPNWRGdnZYRnpUZkEzYmtQX19aMWZGOTdrV0NFZ3UtTC03U0xNSWZIVThsQlA1X3VyLTdObExwOXFGN29YeDduQ2dlalg3bUNCd3UzWTQzQ3ppUFZGb2pRQy1zTTJKVUE4Z1UyenFPZDN5d2RGOVFvYUpVQi1pV0w4UUhCcGJvQ01vT2F1YllJR2RjQVFCRDlkd2NNS1h6VHBqQ1oxVThzSXR0RXpqNmM1QzlBVng4Z2dHX003UGNaTjV3Z2Q0ZTQ3c3lVaEFEbjdjQ25XQlU2LTl0eG43a3Q0bi1jSUZ1NWdsNjl1emtGcUlDd0UyYkZLaXJUUWVHUEtuWlFCN1VqRWFxdmp3eVhqQllacnlrT0ZMTC0zMFBBa055QUZFSFVoSUFLZElYa0JsVWNabUU3R2ItOThIcUd5bVNtOHhmeUZ5aXVsZEUyMHljR19CX3AzUTgzM1N1VmRVS09nSEgwLWxuY2w0blhfd1ZaYkpKczA3NHpUWWZhR0hGcVotYnVUTDUyLVpNNXJCRmQzZ1hWeEMxbldJMHczaUpjT0dKNGlVTW5Wa0tHNWM0SVFjdkk5R0V0eEhWaEtVVGkwc2oyZDRMQWNQakRfXzRVWEhqOVZqTVYxVVo3MHRLR0F1eDR4UUt0aklvVzcybF9CdnkteGFYRk9oMEoyam5Bc3NWSXhtTkJaeWtMZ0JhdlJiOXhlcnRPLVFRX1U4VXRKVGYxdmE1VFRpMEZpMHRicm5NMVBmMVlfMkFFTTBZb0djVHF2RjA5WS1GczVaYk1scTU1cUxub0lVU1pWUG5oOWxFdnZLd3pHMk51NTJoTWRBLUxnMktKNVZDSWpNa3RaM3RCTm5JWkNrR1VUQ1lwYVdzeEkyZHpYakI3SzRyWjF0eTUyeXFQcUQ3NjlPZm9DcXhpcmZrcHNhdjhIeERubWJ4Tk5lczloMl9yT05zWE1KeHZma0dDMGEweVNsYUlmTXpyWS0wQmpjeHRWM1Y2RlVsdmlFSm04OV82Vmc5Njl1eHQzRTBocUxDRGlZOG5yYlNoQkNueTJzVDVBU1NQOUNuZUJyV3RLcF9JdmpuV29LUVJxZ3Bhc1VUOW5VOGZ3Yy1qZnNGa2c1WjBIR2FZUlJfWS1QenNFU3g0MVl1MkpXR1c4aFhPbE4zMzBqaXRDTTZ4R1RJNDBJV1FrNHBjVm56Tmx2WmNTYU1ZUExSbHNvMHJvM19XdkRfYnU3UktER1BzZVhobXVuUzRPeGl0QUtlbnkta0ZJbnRLWjE0azdtT3hiM1J2eEJHeG1sSUJ0WHdYczhreDlMNENkbHI0WTdwRnY2LWRpLTlSbjlObmxscUFDSDhTdG5GdW1ldWFKV1dpTURZUHQ1NzluNWJTTjZFR2hwY0dmQWlrYlU3Uy1GanJEMTBKUzM0VXUwaUhLYzZCUkNic2pMTnNodWlQRVVSNTlnbU40NUlELUluZjh2b1V2TDd5ZUpLUUdsb2JCbkpQQzhOcEotUUpCMG5qVWlkbm14V1VyUlYyTW1tOHRVR3NQUkwtdk93S1FDMFhWZWFoNWxIbHhWLWxxbW93VEo1bjBNZnl6QlVHRHc5WUxZeFV6M1FOZHlrcTJEWmlNVFFISk1TVnlsSGVyYUF2VDRTT2JEMEZ2U2E5RlF0TTU2aGJPWnJxUkJLdmE2RVNBWUNHa1hrdGc2U2ZQRFpPNlVPMC1HNllWbEhjUktOTE5iMG5iTmpndmxNMFRaQS01MXdBTUtlX0RNY0VzOV9nUTJYek1BNG9Ha0tqdjFvaFkyRUpGSW56OXdlWVNnZV83LVJRZ3pwRExyalB5YmpoVE9tYVAwTklVNm8ycWZxbUZrTC1mbGRUTFgwRWhLWGRZWDVrQlpQLXVibWUxdlA5WURxdWdYQzUtUjNCdjFLcnZCcVFtTDRFMklURjI3UmoyX1Fkei14elFERkM2Ujc4amhDUFpVa0Fkd0dqdTR6a0Y3QlBQemhiMlMwQXMwdWlRbVB6X0tqX1ZuNEtXcW9sU1R4MzltRy1GSlU4YjVuSEVJM3lBLUpDWXZJQTZrOFdkSnI1UDV6S016V3hzZEs3Y2RxQWdKc2N6ZnBZcHVyRDZXeHhaSEN5TGhaenFIOUhleWJFZm1ObDRjZ21QWnNyc0ZEdV9qLXdncGVlZHJBajhhd19DTUhUalA1M29aY0dIYkhnSVFXMmNmc0JTeVp6bnk1ZWd3M1lmM1dpQ1BSRWNkUlB0amFlR1FNblJZcVBQMmstYjBXeE5lV2h3cFdyVWhKWDlUY203U1VLWGxlaXRCQm1BRUVDc0tXaXN5MkRZVVJnVHQtRmxVSW82em9obXlxLURuVGV2WnhCSW9pMGd4alZRa3dmdVZjMk5wa1lweHBaMEFLNjRITFJhYVFvVWVsb01tRUY1eFVTbWhJWnJCWTRPTlc=)
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmVRU21PcldFVy10anNZS2dEZXlzTE5ma0FhdjhPa2xKUGVzanhRYmRWVUN0VXgyZDBrWWtKajM4Wm1feXdNM3A5dkthUEVvUUxqUUdJT0hYRDJ5VkVzTGFCZ20xRVFoQUUybGpiRDZVVzBTQnhmOUlhZVhRUkh1Tm1SLWY2OEx6T25NMHB2OHRLMzZMbXJta1lIOXFkYjVuUDVjb2s1Q1dDU3VGbnl3NXZUempsbHdjQ1JUYTNRc3VBUXFhNUg1dElHMzlSM2ZjSnE5amc1OThEemg1SS16b1BlT3NQVGZobmtvQ1BsVDVpeWl1WXAxYXdFdUhnR2tRQ2NmNHpkaG92dllfaHZQZENrcnU0QUR0ekEwSWRHLTBGbm5YdWR5UVVwQlNTYmxJU0dORUZIUW0xRldYcmFacjNEa0JpcGlVanBLWk5Ga2hER0UzdlRNdGJJRHk2dHhmM2NuZG9qQkw0aFM2NnUwNURROHY5MmYzOHZ2eG1QWFZfUXlXazk5dzhNR0hpRGdFUFFUSmRDZWJYWlJJdkNoSmpLMURzOS1EcU85WmF2T25JYlJ0WFk0OHdGcU9yZHhpRTNwYkEtaEJ1NEo2YzZHTV9rbWxaVXVwNC1iTkZwVnpWZTJja2pDZG44Nk4tVXk1MjBCTkVyaGFLSEducnFwaUVHSGhPM25FNkdfR2VsR0pRbEZyX3ktcGxCeERCaWtUU1hwendfNzczN2IzUU9USUh6TTVqcG9NNlM5Y29teDRNeENfM2t1YW1NSUI2VUVvU1dDQ1hweWQyemRYbDJxSEtMNXhCTk9zZUFpVlh2R3hld3JkdnYxX2tNTkl5amtZOGZXYUdpaERDQlRUeXlsR01oYnFrdXVFMjk0ZnNYNm1ZMnNWazlsSEl0WjhmTGlnbDR3alU1emd3Vks4Q09BUEZTRm1lOWgybUpRMnkyODlCd1ZoZTY1eXdabFFaUy0xSjlPU1JoWGZmTkJDZXpfVEZEX0FENXNEOHpuZjBSOF9UUDBxcnNoSFJMX1FNUEtpNm5mRnRkZ0s3Q1dGZ29DUkc3SU9kaDl5ejRHZmJHd3JFUTN5SjFySTJDRG9PRmszbDdnbElsdnVQd093X1JCSFVpcklWcnY5YU1tSzdrdGFkMmkyb1Vqb1kyMDJtVFhMaHYwcVAwUUJvNFJ1Nl9mRUhhVEtxdmRJMkJBdHQ2SWwySnlueVNsTVBmbklYLUpMV2taYTFuSjQ5d2NiVDFwNEtpcVNPNWZNSWlIeElEZFNnc1lJZkV1QUxYM2xSU1pJdGx3cnRmbXZWTEtRZnpmR3JHOHFhb2tpcHNrdExUcHZlQU80YXVuVFdYeWhOd3pycHEzZGhXdkNhdG9CaVg3b2x1OEd0Q1JTUzcwSkNFRU9wa2c5aGhWelg2bnlWZEFIWUY1UEQxQmVpTEdJNkI0RzhrOEJLOGowa19sOG5MLVhYbTFyWlktckdDOE9CQ1dlUWJWUVEwR01nMHJpWmVGMmlEQ2h0UVVnT2gxdkdZU2JLMGZ3M1BaSFdvYUFoaldLcE1ULXdYYnpic1FQQ0tacDhNZXo5Q1c3bUtkeWloQ3JRcHMyQUp1ZDI5WG02d05wX3B2OGVWN0duenZSb0hJc092QkdWeG1Kcko3dkNzbDVYaXRudEJwcHZwQkNIa1oxeFVSdjJ1NHdEVHowSmwybjZCM0FQM2NEUW8wNEd1UFI5bmlteWhWZFNIUVFaWlZ5MDI5bjF5WkdFVnFrM215YXVBTFg1ZFNPZk1xTVRMTFNKa1lraVdrWk1MZllHS1BVSlppUmZfNkFSYWxoWW1pbU5lZ3duNjF2T0YxSlh0Snd2ZHk3eVc2bi1COVBBMGlpTy1xenNIRWRuTXpiSGpWYVlfTnZvYTJWbFVON1JhYWV1eVdJaTV4cU9KSG1RelpGSDRqSmdPWk1KVlp4NXdQR3BxVVVsalhaek5SV2Y1SGl3d3VKOXlVX1k2Z1pyMGVTUUtWR2ZWSEJmd0tTSnU2bmJ3aDd5WVRiRGhBVTA2eGVkRHRaUUM5UFJRNGRORzdET0laSnNkUTZkZkdWVnQ4V3RucEVqMXd2bTJTY0NBUklLWUdka1hiNTN3dmVkOEwxdThvbExZb3NnTWV3ZFA5dU5BU0VUaWZ4R3dYM0pQLVp0em1pT2IyMnBCdGMyMDhLMEZna0ltalNzRThaZ1JnNUNTZjVMMVdCcjJULUNqRUU1dGRyLUNlOUZmYXlsYWhUcEtldmZhZ0xVaS03NC10R3FsRnRJUEw0NThyN1h1RkVpaFc3dEhrRGE4RldHb0kxS3BaRXhNTFdqY05kZ0RyQzZuY1JvaUFKeHMtWk5TM2REaEIzSGZYZ2hUTHR1TnhtVUlKWjZYaW5ZZ2gzbXJjSTJmWHNFZFVxVGQwUmN4MjdIMlNoVzI5X0VScFJpa1U1eTZrQ0t4X3FoalJ2SUtzM1pHRDNDZ2lLT0lKZVQtY2s5WnJPM1VUUFJ6OFo2TGxudDJmRkpFMlhMNFk4UmpqTE9sbDVsbXNTLVlPWmZKeFJrWnhxXzJ0VDczVlEyc3cwZWJmQkhtRnVsTWJnQTY1MXJfTVVJb3JQRDN0ZWxGS3E5ZDRyZUdXUy1pN2Q5c0xobHNrWUJ0RGt1ckhJRWNmTy1WcXpFTnZiNUhRODdlSDAyUGowVUxETlVISGJWcEJQOGRGa3FlRmlTd1VJZ0pOZXNmcFpsalQ0ZGp1d01RajQ2OUZ3Q0lEcEExLWUyblM0V2VkT1NqUkIzbXRfLUV3cGRUbUJESDlkQlBVS0pudGlfNl8wQXFJbGRmTjZjUDZHRkhnLWYxWnZOcmdRamJibXpjRmdoanJpMjdtSF9JTlRWNEhLSEJodXZVQkl6cU8yeFlnbUYyUWVuNEpKMS15MUJsdHZvTkNuek40ZDFsTzQ1eE96NFF1UmNJUW5LX0ZaNnVBNzdKcktPUlBXMzljUEp2WmpLd1c5M1otbXBqWHFpSHg5MFMxemhuS21Xb2FRX1Q0T3U2SEs2MGNPN3laWGxJRTBvR011MnVpMmVZOHNLV19VbzhSOGFGZC1MZWVnQUdhNWZVQk1WVFVqOHN0dk9FNHhRM3Zablg4NXhRUENiZzBURlg3RGlUWW5sbnh4STZ0V0pRQm14VTQ4RUNId0pWTTE3NUVsR2RmVFk1R2ZBS0EyUW9UaE0xclpKRDhqcW82azY5WEhsODhEX3dPVG55TlBadkNLSDhHWHRmbFZFNjBMR2d0WTZHT3VqWGtzeGJPWFJ1cXMxVGswcjVtbnlQWVRHb2VjVEp6VGM2UXdVdXZsRGFvX0V6NEQ3UzNNaWw1NEpHZUhodGpWbjdtSE90V3p6M2ZhQVNnbWpyNGhIMkx5cHZBLXpvbVhHRElmczFaWlZqbDR5a056N3M3bHgtYkV0M1F4Y1MzWmw4R0NXQlhLQVlEVXRMb3drOGFVU0dRc291eTdmMzZ3em1OazloSzlpcURJczhQZ2FfV3p6NHZITWJtakRfYXJYd3NNRVhNdENUT3dKTkxxT0xRdTFMY1Q3UUpHVy03bXhHeXlma1NkZ2dsZ0hzRUdMWm5LTG41b2lhcUp2cGU3QlYtMFRWcjctbTVyM0dkZGxHOFhiMFZWbDBqeGpDSzRSMU93b2RKZEJwaWZEVWhnOVc4QS04c2Z0RnVMeDVLTEpIdlZ2eVZyNS1HQ3FwUnF5Q2lybDIzNkxScWlxZmg0QkRNYnQzSUlLYWJCRHpiMmJPckNRU21HTDNodFJfRXB5Nl92Wk1fdWRjSVVoREo4YzlsbVNmbjhCeUpyUDgxSFNJZnVWdWhKVnZzcmxYank2QkhqVGR5aWN2cWtwdk9Wb1Jja0NRU19CYjBGY1ZPWDd5LTY5cDg3dEhsbUY5QlU1VVZjTmFKMExsMEgwaTE1TUFFTDFTUE9Bb001TkloTmplWVBmbUVFMlAzdXBXeGo1NklOUkJDSWtGTXVaVnFFekI5c0x6eUlRUnR2bzhCWXJQcWpPejF1ek93WUhScFhfaWkzX0RBQXhzdVEtZUNMUjZja21FaEZ6eUZZdHVzQ1N6QmdzOTU4dUtXTWo1cEFPdWtBUzF6bFN5SjJkR19EZ3NWRWduRTZGNzFrUC1kdTZjZTFROTl3c28zM0Y2RUlCV3JEazFlZUZuSWhJYnRGYTA5SXVCclc3aTJRb1paU1NFbHZod0doYTFnenJCbHNVaFNrQjJyZ2JnalRJSWZ5NzZFOFdYSnVydjJIMHZEbXJyS3ZNZ1JkS01HYVgzaXh3OGd3ZVlvdlBiTHJkWUdnUk9pME4zeElnSnlvZnp4aG56MVhuaHlsZHVzWnVBcHN6QnJleFNOT2I0cVVMa1BiUGVUamg5WU9teFlTc1MxdE9FTklOOWhCMjNoMG5KVFlxc29oWXFVZE5wb3F5X1VGSEFLRnVBSWRVYWZUcXFoX0d2MDZ4aE1Ja2tEcWE0di13QTVLRnFvaWoyWnFnblRhbmE2eUs5MmNMRi1zQW1CdHNmQmlpcFdOMlgtU1l2dTE4T014eEowbVdlamZPOXNIRFBXUjNYd01FX3d3MEtDdGhVRGhxZnowZGtZaEM5YnlQR2VvekE0LWg2ZHJrUURPd0RURkk3aVY0ajN1ZnAxMjc3MFlnOVFjWGlMSm94OVRUSzJLcjZySW0xamU4OHR2d2pMRjBVZ2FFUjBIODNoMkJIMjAxc3o4cVFTWVJNSGlmVjRhVjZPWkF2UXo4ZnlqSF9oaG05WHNFdWhINVRYZTE2QVk0VlNqV1pxdUlrcE9qRkhxRXQ4bGxmUk1sMEFNLUtPSGVNeU00MVRmWjkxcHRGRmVQZnFxWmxXQnhBY3hzZ0VzcXE5SHAzSnR0aE12amZ0blpWOTB1YzFOVHFjYmE2LWVERTBSc0YtUS00TGZMMm9xcl9nbGxCaHJhbzBSYmRGSWZEeWpDcjJSQTAxSlJzZzVjbEh4WGgxY25jbDRDNnFPVVJmSHhRRGtKU01CQnVETnZIY2gwYTFHLXVoTGttckpacGs3S2tpR0xXTkd0d3M4QnhoUG83RUFRbnM2R1FRNXdVazJ2SnA5Z01GWVRFRmRnMnc3elRqRzhoRkNBcFlfblc2T0llRWVnUmhBYmxRWFp0SUctTk8tUTRpYzk5VkRoY3pRaTBYbGRKSzlPU25WOHNOR0I3SzdBMXhwTmhtcmxsTVpGdWdNUFNPUUhGcHFNZ195aXpsMTJVVVpUZEJrQklTSmFPdjN0TVBXRF9XZU5jdVBVcXdHUGtOWGpVWi0xUTlHWXpGZm0yMXpsY3AwbmNlWG4xbVRXdTJaWHUzWjVJYi1nTUxKTFEwdTd1cURTM01NbkVUUW5hdGFzaFJwUGdpcnFYWkd0U0dGUVpRZ1o0V2s2dDJuT0NXbFZXX3NqcEJSX2kzanVSVmIyZTFyU2ZmdGR0TWRzdVBOVEQtNS10U3h4a01tbGxVRldvN3hXbWRMTUxOOG42ZjNvQUcwVFJiTWhySkFRbFZheW5RSmRtTU96M3lETmVKbzQtVzNKdW1UaFhubEVZX21GcnNGV3U2WTYwMnFBZXR5NnZZaWROQVJBQVE4cXh4cklxSXBpTktwYW94SHk2Y0IzN3YyNmVrWENZRVBKU05pSlg3cnZfelU5dWlZNnYzeFp3d29ncmxwNjZhTmE1TGNDWmZPd2RMdG1Ram9sUktDdjlXZGI1cEIyU2ZRcXRtODNqY2E0TzBDNk91cE9sLUdwZ2dGUG9rWE80bUo3cXNPTV9FaHBjbjFRcjJBeG9iZWtkbnhLQWt5bmVDWUFXSHBtUjNQLVFYemswdk9aMldKaDhZU2VzTm13Z0F2WlBWVjNZTVgySlpHeEgzMG5pV0NEUUFsQ1hXQzAxTUd6cXBab1dvbkRLME5tck5fNHpmLVEtZEVKYjNIejVnam5DazBQYWZjRHN0M2hteWlBeEVOT2tOalcyVS1RTHozMndSNWVoeTkwbjR1UXdZUFVvbEstUDhuUVhVNFZvenlicDVQS2Q5R1pua04tVnNmcFE1ZzRMcV84OVBlMWt2R3JLRTF1OF8wWjAwN2s4X1NlcWVnZTNlSE84S3pCSmpKaHFKeF9MWEI1RTg1eFBkOEIySmd2V3JJc241TUpVSHBOeHFJODlRSHhuYVhnWFhYRS1NZEdGaEd2UEtKdHBCdC01QkdlY0o1T1daNnV5UFhJbXU2Sg==)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmVRU21PblM2M2MzNlVxdHFuNko0R0xrSUdoRFlQNnVvdkFVV0R2N1dkNF9IOUZIZzM0Y1drRkpuaWVYcFhUM0hyVExITGZRenhKYXlqTmZCN2c3blRxT3J1Umc9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmVRU21PY2FsSmMtaHpoemJNTThnOVhCdTFEVUN6RXZHNFNkclN4X0FZNDJTNkVvN2VBOUdQQl94N0xrWHRjcEFDZF9neHhlMExQaEJOU01aTmJ2RGlTZTViVlE9PQ==)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmVRU21PVTN5YXZSdHhhWG80dHkwa1V0Z0FhN2M3aGhDS1lxXzJnSmJoZ3RvMlZCS2hxOFp1b1VaZHNSTzFlemNWM2RMRkFMYlNxRzhjN1dtY3dNYXJRWDNpblE9PQ==)
      flutter: stable
    scripts:
      - |
        # set up key.properties
        echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - |
        #!/usr/bin/env sh
        set -e # exit on first failed commandset
        echo $FCI_KEYSTORE_FILE | base64 --decode > $FCI_BUILD_DIR/app.keystore
      - flutter packages pub get
      - flutter build apk --release
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - sbis1999@gmail.com
      google_play:
        credentials: Encrypted(Z0FBQUFBQmVRU21Qc0xTaEhKMEgtRnBSTEVFQ3hKblBpNjJlX3hGUFQ5dEg2d0dZNjl5dmRKVW5wTkhkWTlHaVhrdnI5S2RvVXB2ancxTU9sTE5KM191eG5ZeVlENzV3N0NiOFM3Mml5Y3VxaF9veGdWWWsxeEVHOERMNG55Y183cVVycnVFWExIenl4aVFteXhTVlJTVDNmNUlobXVEZ3ljVERtYklQLVZCcG50c3NjWk53OF93VkZXb2VoeTdtTkM2NWZzYmYzMmRLRW9kUXFJZWVReFY0UjdNbWpkNk9XbDZXbXRXVDBjUG9UbVUxZHZOQnRnZnpFajZ6Q2I3QU02Y2hwNDI4cnNxcm8tM2lVNm1HcFhPSF9mVHdMRERTa3F6MUl3TEF1bFJVZzVwSmNmWlBDY2xxeTU0Y2p3Qm5UWG1xTjRrR0Q2Q3ZkbzZYZXJnSThZQktBYy16ZUxnOExaSi1DSDljLUx0VFA0U3dvdzNtZkVBemsyTnlLLUx0ZGdEbEVuVU82aTNTb2JaSjhpTjBFWk5Vc29BbUhYenAzR1NvaDRqT2dnNHBzNzdXV2ZFMnV3S2lvc242dEtlcGtMN3ltMjhqcmFJQVFJYmZ0X2EzZzQ2dXAxMk5KTElUR0hoUVdoR3piR05ETHRyT2o0b1IyZHZOQnBfM1lfXy1mRzA0aV9NM1lJYzlYT0EtSk1uOGZ4eFVNdHNsWGVQOUFVUHpYVHgtTTdCeWo1Tmx5cTJ2bm40QmtfeUpMcTFCbVdYZThUWTZSd1BwejloRkd3TFB0U0c0dWo1WWVGZEZ6X1NhU3pzTFZrZlVtTHhmcE9JZFV2RGlCTWZWRnYtek11OGFMSnVIaTloVldoeDc5cjc1aEIwa0xZWi1tR3VsWHhLdUEzQUxnc2ljV1pBRHRUMXR4S1hZb1EyNUl6VS10MXUzVTF4clNOd0ZqcTQ0ZHVEbWprZ0pQWWJGNlJoZ2dPQkZZYkpQZl9hLXpHdUZnU3Zha0ZoZkRpX2FZWVdXSkNuZzFYaW0xNnNVeDY5Q3I3eW5yckhLYjNZWU93cFNkUi0zZTdvMldCeVFrQXk4RVR5cmdteUVjeGZoY2JEZUprUE9VR1h5R012NlFZZjVCaVBsOVlvR2dDdmxaSkdvX0xUcUdORU5LSldybE5LNUxodHhQb0VfVXNVZTNrMnB2cWJZZzZucy1WYkxNY3BaVmlmZ2czZDhheXhMSFFEZjZoV0RqT1EweWVhT245MjVtNWhoTVB3U2JGLUpQRGF5M1BsU2VwWGhpYlFoUzc0cnJaUHpWZlFpY3N2eGJmOVVHMVVPWlF1OTJEd29mdUFtOWVmUFpTbkpTYVM5T0c2US1RanBHMkswQlhWOF82eTByVElqaWdRd2JXVmRWY2lXb2FhM0NHaFdrSHRFVGE1VXpaaUhDQ1p3Z2lIeGR6OW1lY1F0azlrZnlZei1TamtScWlGQXhveE9nZFB5WGN0R084UTRUTng2aDJuc3lPVVdFM092S3NLa1p1VlYya0pvZnFwY1diM0NNZlJSQVBZQ0dXc28xTEcwNFdUelc3cXZpcjJBRk9rQUZzdDJhQUxITDFmMlRRTzZ4MGR1TnQyclJEcm1ZVkg3ZTNwVTdZakJQbVo1MVlyYUpQblRKR252Y2x6b2dYU1NCVGV1cmdPVTBqSWxtcUVNMkhReDR3cXFLQU1wa2xmdC1Bb0g0OVZhNEJ6bWpOUmRJWHlrMjl4aXFGa3k1VmV2aFpHQ21VVGU4V1JWS2ttU0hUN0Q1bzBfX242TXREVTlkMUhRLUloaXRtaVZuck1KUkdXOGZHMWtKaWRtTEs4eGJkSnJBeVI0d2NpRDU1eWlWT3ZWdUtDeGlFN0JnSGp3ZGhwelhLZHB2dnJSM0M5UDBrWG9SNlJyQnI2eFFBSmE5UWZnYmhLb0VETVM4NG1MXzE5ODd6cV9nMVFSclR1X3pCS3Z0SEdqN3B3dVU4cVFpS1BnRXJ6WDVUY3BxbWRWUDZrZmlJa05sVFZ3di01RU1jN2Z6bHpkMmEwVGtRbnotU1Zqdk0wb1FjQnRkOHFFTzB5ZGluMEhrUnBmdGtIMkYxZklzd2RzNTFpWUtrdTdfaHNDSlBXUm04X1FfM3Z2cTdNQ2g0TE0wYlFBaFFmSTB4NDNkb09zeVBXN1VodkY4V2plc3dDVXpOcm16SnZfVmg5SFhhaTJSelFuUzVsa0xHVkJla2VvdGtaZWM5R1lFLU5fd0NaMlF3eU82UDA0T1hhUDFzUDVnN1VuN2w0dzFiVHZsek1Xbkp3RXYxcHBFbUNOQjhEUTVYSWczWXIxdzFwNXk2N0pKUWhzZW9zQ0RiVTg1YkVBbEJjWjQyb2g1WkxZOHo2dWZrSUx2S0tFUHVLa0xMa1dlY3EydUgyb0swcExRRGYwdXhxTjU1RnQ2bU9mWWxwUVFXNXUxX0hZNERsazNwVUMyN0RvWnd0LUtNOFFHM1NOVG5pVHhGLXdIRDZ5UExoY0s2UFQyUUZNUTdBSzllS1RsVlozMVZ0MWttNmNnNDdwYTQ2cTYxQ3J5SXZfNmhZMXZ1b1Bwb0xjNk41bWVORzMySWRkRFRjTnJtOV9tOUJ3TV9BZEs0Z2Z5cHlVY3V5dnlqVkRDMS1lanJqZzAza0xTSHpKTGR3VWd3NVpManJkbWNUZlpRcWVBUEpvUWM3cjB1R3FldUt0d3BzcU5jMjhIOFJ5ZE0wT1MxSEFIUEdHdUNiNU9hSnhGRy1VS0ZUbkg2SGJQNTJCaUg5NUVXUHpvVXRXdmE1RnJicm9HX0lFOXB5NXg4UUFlTy1OWkd1dHRQRkVGVWN4MTZkQzBBUVJnWmRlUzBCbUhXUzB1WW9EWnZBTV9ZWVI0X093MVhTdkZMd1lRV1lvYVBFMko5dy1WcS11LTh6VGV0SFFSTUkyUXpzTF9na1ZycnNEOW4wQ1RZQ1MyMEloT09fUkxyMXRIY0tCYzFSUnNFWVU1MlB5cVhCTHp4b2lKMEpuOG82dXdfdmhxMXBzY1A2V09VTHQ5cC1RaDZvZlRqNVVkQkNVd2psaS1MVnBEWDNOOGJuVXN3V2djYWRzN09JU2JLWTJnUTZqaWU5R3BpS1lPNXJSVUJMRmo4QmdEYTh0S0RHcy1DdzhtdlE1ZFVLYWNaNTVNeF9UWjc4Q3BIX00tbnpYU0pJdWFhOHRlV19CYnRZRHVsc2pqUTAzNG9rOVhRSGVEbVRMLUpvOEdFU0MzVlZVQmZKLWJIYmdIcnFSZGlpeS0tX0hKQ3hvcElpaDZfdW9jR2Nlc0NZU0w4UzMwbEZMMWZTcDdVemUyZ2tuQ2tEZ21VYXF5RVNQSzk1T3VvYlctbV9xQ25HdE1pYl9kaEgtTXJrLW9oUzZmRW5kaTNBa0RiYkktMjQ4TWwtZ0ZqemdGTFlwbDhGa1dVcmNEamx1S2lyeFZnYWNpemVPMDJ5QnFLRzlOZ29SdnpiZkMxaFdHbkZzUlJrUnFYZGpCUXVLQy1ILWZXeE03ZFFjdHBqSTRGOWg0ajhBcHg0MFo0VnA3T19jNlBxd2xLcFdaQWd6ZnJadWhnWDNGWDg3SGxlMVJJSmNTTTQ2T2VlYm5rb2JWbUlqaFhaMGJ3WFZHdVprb1ViXzVrZnVDZ09FUXFJa1N3TmQwMFJLRERTdlMzUnRqZU82OFhmemFKa1dQMm1jaDJZR2NMTi1odGt0ZFZiS25oMTRwdGdxNjNxb2JoLXFISG5EV2NvWlNMMm1EQThFTVVLVnFyWHZoQ2pfZ1hxWlNObGRLZDBkN3UxM0VDdThmWVNoa1NlX0xqQXY2Z0RGSUhYamxVb2RUdHVsUFZhV284aWJZOGdjRGoyWnpZY092NFdPYjBaMDJEV2lJNG5oc1F2R1FBUGdNLUlxVWZtamppaUw2UnJrUDNiTURwUThURkZqSFF5ajRMallQbEhlY241OW1iRUJYYVFna19Dam5NSkcxd0pKN1NGMks4TVZ4ak45TkZmRmZKMlViX2JiTHlYQnlRSXkyeDhHYXBiTDIxRzdlWFpTYUdPbG1pakR2Y2xuWU83RmVOMjVJYmowckJwaGlwd2RMZVhaWGRvLWFCTzFzYkNtS21acnlUZXpsV0tGSkFyMlYzOVppUFQyX3JLXzVMaVR6aW9ya2hGRDZ4ZHgxTU1LV01JYXdXU2ZzYlhnU1pSUEZaejlhR0RWMTRBd0hLbVNZeUZHSU1vSkM2U0xKcUcwOFZKZkYyc1dWSU5kbkdCYU53eFpKSl9rN01XeVFpV09SWEtiYzA5bDlCbU42dXNKZ3MyR3BJMG1MNGNpaUVrPQ==)
        track: internal
  android-workflow:
    name: Android Workflow
    instance_type: mac_pro
    environment:
      vars:
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmZ3UzYtSEQtMTNLSkstV0VycjhFcFVrM1NYYmdnSGJydU9ELTBXaGh3SGYyWnZCSVFwVkdENHJpeGxmYnBRcWFPT01RUEphWGZRcTdpeDlKajJlWW42QWFzVjR3V00zM2xJOHZSbTJoV1RETjRrR3FsWVN5eGpNWG1jdTZYeGQ2V0N5c2RzTlQzSU1ZVW9pTjRHUElicXhWaWJ6MzJYd0NoalVvcC11aGZ0VHd6UHh2alhVekNOVk1DVlR3NlkxczNMY245NzJ5YzVvc2J4bnlna3FPaF9yeTdDZEh6YzlDekFoZ21Qcks1Q2tOU21PNGxCS2NldEpZVU9Db1pKOExvcGUzcW5sZ2w4amFzN1RGV0w4T1Y5VFVKVmJpbG1UMEM0M3BYUFRVTTlMZWtpbWRVYTdTbzE1WVhUdTNSZWk0TmI2QUp3UHNibzJvbkdzcGx4cDYxZ21xU1lVeG1SNWZRYnVHOEVLdXhUbUxvT3BBU1VwTGMwQ1YxMmNhblVpWmVQQTN4bjI2cXEzdEhhUE9QcmFhNlhiNWRfbmgxSHcxd21xenh3a3Z1ZTA2Zm5QNjF2dHQ2SHZtajFFdGZaaFl4NXFFWUVXOVRIZnJfR21IcHFQU0tKV0JLbXA1LW1RbDVzU293b1ZYNEFOTjVhbFg2bVh2cWN6R040dkhEYmVoaDlKeVRqejA1amxVbE4wX09XdGg5Tk1wY05FMkFLLXA1aFFHLU1JQmo2N21INEphWnFjWlFtR2JEZGRvWmltQkpXbXNGWjQ1YXF0djJFUno1bG5iNlR2QlRKakxiRzczaDl5bXZBM2gxM0VTVlYwakZuZVQ1SEN0ZjdSUGZIVE5LUEtRT2dWaEVmZ3VZVDVzdzdMem02OHZneFpYMXNzaVhVNElDZm93aERmNmlXLVg2YjY0Ni01RlNZQmhxX0c4MEVuanpFNVZsc2NQLWFEMTZFdFd6cmtjcmQ1Uk5LQS1IQ2I2S05ITWVtTGtvR2xuYmw3TW12azNVOTlPYnhXZUlsTTVoT1pUdDZqbUVWMUdUTGZ5bzBVZDBmVld4anFvM1NQX014ZGdPTUhiTFNHSFY4R0tTZFFRX1YyRkh3Y0ZpMzBlNS1ucWZxakx0Z01TQ2p0ZjVZMF93N1FIUWZiN2FOeGN1b05xZlpWQkxFODF5bUtOZ2VVdHZhUndjelc5dVJUTzhMOEZkQTJlYzJvTkJlN3RSZDNZUFNWeUdiZnFja2pjbG1pVUozSFNBZkJmNVlqSE5nQkNWbVUzdW5rbTAwY0NVelhCdmREV3Z1YmRac3ZKZTFhUmpEaC0zdmdjYmlrbmpsbFdIM0lVVEZVakdjSG95NWFZcmdiZ1ZKdFJxMl9RT1FUTm9nVjZkOWwtSGQ1RC1zRXRKalEyVE1vdzhLWG8tMjhtWmlLNkpaZkhtR29OT2pZQXAwRU1RN21jNE9raEZ3TE9TUkdaNFVHeGlwZ0g0S1cyeUNROTlWbHhhS1IybmNrYmgtRy0xTVowenZnSl9jM0Rnb1dxa01sbWlTdjBRX3hZWUgtVmR6LVpITjFnSG1NakxHRGlvOS1oaUxveVpReTczbDdBQWhPbjU0Tk8yME11aXQ3MFp0VTJwTy0wYm45MUlKbGRBWTVNVUdrTFlRS0dkWkxGcUR4a0p6NVVJZnVDRWhoUjFtUmNQQXg1aHRBd0JyZEVZeXFMX3dtTTdsNXA4R0FaRUNuOWVxOHZjUzJ0YWRyb2JiYmJLZmpCTE95REowRWVGaGQ0NTlWZFlnNDV5TGs0NmJ0aEFUUjIzeG1ldXctMnhad3J1RDNyV3FOeUQ4Sy1kSHAtYjVBRFA5TDhjSlFiMV83cUdFempwSWtGN1pJQU9ZWnljZ0dudklpNjJlTUFXLTRDY3gyUndZUzFkUXlvNDVkYWNPdm1kR1JRSndnZHBtUHBOaXh5UVRYaUdQb2c5UG5Ra2x4NExRXzR3dUE3b25pSGpGazBseUZPMXNvbmNCZjg0VVd2WUVGQVNaa0hvT3V6V1RLLUs1VW1Ga0ZwUWtkZ1kydFJKaDRCVUlIUWlLOG5DZDZ5eFZPLW5SaEpSSXNKYkNxTzFPdm5jSjF4aTBvakw2RFRGMjRqRDR6OG5GQk1LMnUyUXFzckdoYm5yV28tVTJpcnFDdTAzbkZZOFR6eGkzaDlDV1phUHd5UVV4Qno2bDhHejNNRHk3dFNLZTliT0paNnhXblo1Z3MzMGdnYVVHMVNlTTBsTERPejNKNTB3elFDS3VQa1NpeTByUmtMUHJXYzc2TlJTMi1OX2hIVlRPT0J5aGtPVU4zQ0hlNjlCSG9LaHE3Y25md19SeXV6QURfdGUwQTZZRnBkb1l3ZjY4d25qN1J5aEd6VTliVWNRUnNkTThoSWVyb3VNVHdqeXNWQm5oejRmU1FJSnhEZkJfemVqbUJSLTBzZTVHT2pUQzQxaVhIcnFTWnlfTTFkTUdsRXB4ZmdBMkhzcVJKQmwwRlEzMDlQblZaVGkyRy0yNFZ3V0hEVVlOZW5lT3NFVno3bHZpNDFqWElCaGNhNW8wLUF1UTRZTnN5REh1UUpVVjlSMXlBdVhPYU9oY1Y0Q0lNWXRySXFSZ0xPVlZ2dDEzMU4ybUZXVDh6dkFZeHhWb3VzRGFFeHlUcDBNR2NJa2VfSE1hMGVQOTlmZ2hjaThTU3I1VnhIaTRZLXVHektjRW9xbEJRUEhEYUJpOXpZd1oxc2dFSFFIVHdwVWZvdHNuTDd6bkliZW9kdVBLMU1yT0llUjRzRVE1YVZtWlUzTl9MWWE4NDFPOTVhWDdmcXpSeGsxMVJJbThVNFFfSTFUMDZvbGY1MDFKTjhkZkN6YmFUT0J4T1pEYXhpbXFaTHd3akVteFl5Zmk4MWZrMVloR3V0SmNtaGVmdXRBQ2ZfMW01bTZBVGlHRGxmQzdzRElxZ1ZfNzVrUXRPS3djbzF1SW1JV2REMkZkT0V2dGdBb3JEdjJfV2NLUkxtNElDU3c4ZlpaODREVDlxNmd3eUk4ZFRBbFFGdWVlMHUwbE9kSG9wa0pRTE1DS2xsQjc4Y2hmd01BSnFfODQzMlJISXBsa2JQZzZTSWFNRHlTR3llOTdXdzFjczlLV2RQc1R6ai1McW42TjIwMG04NWhKQWkyM1JBQ3VJTlh5UU9sOHZ5akhvZVpKV2FJNVl5RFA3c2FFeVpib2JIMGtDQ29zUkFUeVBQbTdsS3VXb1pJV2NpdExLVkFKemVjVDJnZmdydm9wMEF3WkZKeU1HZUk4Y2hsRGFqZW13SFE0RTFmbFJqYm9fN1c2bTVyeEVDR3duUEhudkdXdVdRXzYta0FfNlhEU05vMXUzeHd1UDdZZ3dNSDY5aE1SdWY2LVJKTkxZZWFrenJ2N3Z1ODBTWHp4M3hHek02OFpreGpWQmZWWkc3eUNoVGI0c19Obi1mdzNoZE1qM1JSVmNWM3BtM1lvVXI5djBUQkRPWWF3N090LUUyRGVNNExzSlZmRXA0VUJhRkxyZUsyaTFhcVl0SzNONkUxV3phMWRDM2JBX2g3MlhnWEpXVFFDZEVSN0NqajBKUTdIdFhjOU1aSktINFBVOG5ud1hXM1lYMzAzdzQtZGg3NFNOUnI5TDBYQWdkbUk0bDFWMDJBcGxFRWR5NWtOcUM2bGxZVGxOc1VPbUVNQTZyeVZ5eFRNU3BIcF9lam01V1lYVEh0cEx4N0tuZ1JIR2UtR3UxNmJTcmhzTXJ6NE51Q2lSWnd6bTlsekpoMndtXzRpU2NuMGlWMTl0ZjBRVUYzOGNTYUJqOXVHMWxDTlhsQXJPQ2RhNi1EZ0g1SVJsYk9pQ3VxVmlsYWVmcnhKem5YWTBwNS1IRmktSm9WbS04SG8xZDJ1LVVPeEtNS1Q5S3lYNmVqVW1uNUhXRkpobm13RUY5bzdEam9XNnVWQml6c1lSZXlVQXEwZU9tVlhBRzVpQThSeU5xZjhDN0dzdFNMcVJvbHZucThGRG5JQ3gtdmdSdEo3VUR4ajBXVFl6RDJnLVBXcURleURqa3hKd1ZfOHZCV1YxSkdSaTBVNWgzVnpJbVZRQVVnQ3hGVDlZdE5BS2lJYk9nTmdNeTZxSWJMVjhDdTVSSWJjSWRTTmQ2dXVJYVVONUxXT1hmZWJBVnY2QjNFNlItQ2p0dEdNWWRQTTNTRnhZT0tRVFRGRVZhQWRtMFpRNVJ0bUVpalFTaS01a1lkb1JudUV2cHZZNFl2UnFFV3E1bzRvRlB6bkVQUF9XV1U0Wi1nNHlSQXRoUllxanRRdl94OU5wT0s0TUhZU0QySVVQQVMtUnZ1dm02amNMNC1ISTJYdTc2OEpocWU2YW0zZmQ5cGtFT0FRT0k2b2s4dFoxQ2VwTEd0RlNURWJNRzFMY3FrNkpZSWtDMG5lYzNXTTBrS0xyT1ZicU9qaVJXZFBNMDAtc0llb096cUY3eTBlREZGaEZ5dFp4elN2LXJWc1N1bURCSEwwYVRnUTAzcjVJQ1U2WmRVbVMybFhqY3A0YzVIVTFKRlVEakJRa0t2eF90b3JyTGN1anFBV1NkV0k3TGV1YzRWMTBxeFhxNWdCTndGdTh4V2xqV1U3NHBaWk8yMklheVllS0dQWmNHZmJqcGpybEcxODJWTU5tSTRtYmN4VDlLYnZ3VjFWTGxtdWlZek4wVDJwY2tIeUpvdUo4dDJSOWJQYkw0VGRScjUxa1ZZUDRQbE55Tzc1bWM0c3VlTHBockVwSk5QU3E5SjZKc0ZrV0V0ckRsSVV3cWlWa3ZDbGFHclhBWUExSUxqVXBhbzhUNThacnVDb051cXlZMTlHc0UyLXVFYktaMjNobThlQm4xWTRhZ01ISmxQLUJKUU5lcGNEM1hRRmN2LTZOWURFSzY4VUc5UVJUVVdFN01GOHZJVmdWd2VjMTZBeEJ5Tm15ZzBSbDBPc1dzdy1NbG1maWtINUNDcXFjU0RmcWpKZ1JtdkFFTFQzeHdMdnVXQjY5eE1kd19iQ2VUQTJUc1l1dEJQdVdLbXdNNXhrVDJFTUxrS3M2QWVBUWJuYnVVbHNfcnB6bTQ1YnhMbGpvcGVBV3pPQnpSLUx0ZFZRQWczb195RFdHam1xdEMxNGl5UDFEam1vSW5JRml6Ml9Ub2xHMklqSzJYcVEzVXk1cUxTWmdVLXQ1N24yYWNkSlJ3OVJ3UU1tWFVkMm1tU1BKVkNoYUdwTWp5UkZXTWJGOVdVc0E4RUJsaENNbFhaN2FSVXFmNzNaXzRyaE5ZdmVnWFIzV1RyX081UGxNX1VrQ2lwTk1maDZGV1NoTjRhOFNHTEh5RHhCZThtb3lwWHR1QXJzYU96dW5tdEJlbFNvX0dDUjd4c2lBT2p2RmdjblkyZzNCN1UxSkxiekljd2JkclZJd3pQbHdobmJTaEkxM3VXSU9ZMTBaVldRTWlLOXVKWkVxcGVGMUUzYzZqNndMNkVPX1lxU01zdFJxS25rUUdlSDJoSjdRWmJVbmhpLTJhN19kMUJMWFY4UDV6VWlMcExHSWRHQ0M5TXNlSllIQWdsZFRxY0REdEwzdlJxTkF3TFNXSE5hQTdERk9uUk1tbzVZWlQ4aGJBM0gtYlRvR3ZObmFXaDZiMzZ6NUxJSjkweUxBbUllSzlLM2VjN18zYVI3OHdteDJpQzhTWGJhOGRNR1RUbXpKSG1wQWZYVkRNN1JmV2xDZXphd3loLWlfYUpWYlI3bE54RjZNUV81MEZlcXVuUE5kV1djUlNYaXZqeGV0SkNsblFObVU3T3ZtbWdjeUdRaWxnNW9TRDZUOUlNVHZqSGFFSjZrNEVQNVNzSTlSUTRwRk5SOGsxa0JZVFI4d1A5bl9xVTVLdHRhc091SFBOenlfUnFpY3NsNl9HSFNNWllEQkNwU0VZT0Fua3NNUDJfWTFLY1dpdzR2WGNwaDlBRjFEN2RmQmk3OXhCdnRaNF81YXBCN0I3clFXWG9LRWxGekNncXBtbnRjMFpMall0NXY4X3NBVEIwTF82MXBRb0k1SHpCbzBZanpsTm9MSFJSVHYySjEzMDk3anJIc3pMMnVpV05TMzJHNkpYeGVfX3ZRcTczN2VBYWYyZkdQWmVCTl8tQUZCVXJpUDhveUNNelNnOTV2NzJVcWlDWjFqaDdoUmFTZjZ3VWQtYm5YbUc0S0dDMHZrSUE0NzluRUZDR0xfUEpwdFdrUEM2QmxqdjF3UUNOeEE2cA==)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmZ3UzdvaG1pbnpURHRIZHBETXk3dnYtVTVyRXBLdm8weGpya3VySXNHclpZX0hybElfczFlTXg2dHFwVzVkZmozVFV3MUl4a1AzLTcwTFo4Q2doZnhTTF9tWnc9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmZ3UzdvaG1pbnpURHRIZHBETXk3dnYtVTVyRXBLdm8weGpya3VySXNHclpZX0hybElfczFlTXg2dHFwVzVkZmozVFV3MUl4a1AzLTcwTFo4Q2doZnhTTF9tWnc9PQ==)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmZ3UzdVUm5GZV84X1BDdFVFYmtwNndCS1dVazdDZHk1aXkwSHFwbjIzX3F4eV9NZS16dk5fcTdUenBsVlhJbnNpc2x5YTVDcmF1MFhaQjlyZWZkVm5RYWpWTnc9PQ==)
      flutter: 1.22.4
    scripts:
      - name: Set up key.properties
        script: |
          echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
          cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
          storePassword=$CM_KEYSTORE_PASSWORD
          keyPassword=$CM_KEY_ALIAS_PASSWORD
          keyAlias=$CM_KEY_ALIAS_USERNAME
          storeFile=/tmp/keystore.keystore
          EOF
      - name: Set up local properties
        script: echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - name: Get Flutter packages
        script: flutter packages pub get
      - name: Run tests
        script: flutter test
      - name: Build release apk
        script: flutter build apk --release
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - sbis1999@gmail.com
  ios-workflow:
    name: iOS Workflow
    instance_type: mac_pro
    environment:
      flutter: 1.22.4
      xcode: 11.4.1
      cocoapods: default
    scripts:
      - cd . && flutter packages pub get
      - cd . && flutter test
      - find . -name "Podfile" -execdir pod install \;
      - cd . && flutter build ios --debug --no-codesign
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - sbis1999@gmail.com
